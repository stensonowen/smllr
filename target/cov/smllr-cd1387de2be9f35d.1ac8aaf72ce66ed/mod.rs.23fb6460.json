var data = {lines:[
{"lineNum":"    1","line":"//! Define a mock filesystem for more fine-grained control over unit tests"},
{"lineNum":"    2","line":""},
{"lineNum":"    3","line":"use std::{fs, io, time};"},
{"lineNum":"    4","line":"use std::fmt::Debug;"},
{"lineNum":"    5","line":"use std::path::{Path, PathBuf};"},
{"lineNum":"    6","line":""},
{"lineNum":"    7","line":"mod real_fs;"},
{"lineNum":"    8","line":"pub use self::real_fs::RealFileSystem;"},
{"lineNum":"    9","line":""},
{"lineNum":"   10","line":"mod test_fs;"},
{"lineNum":"   11","line":"pub use self::test_fs::{TestFile, TestFileSystem, TestMD};"},
{"lineNum":"   12","line":""},
{"lineNum":"   13","line":"use hash::FileHash;"},
{"lineNum":"   14","line":""},
{"lineNum":"   15","line":"//definition of traits"},
{"lineNum":"   16","line":"//RUST NOTE: the \"trait foo: baz\" denotes that foo reuires that"},
{"lineNum":"   17","line":"// any object it is implemented on also implements baz."},
{"lineNum":"   18","line":"// this allows the default implementation of methods to"},
{"lineNum":"   19","line":"// employ the methods of baz"},
{"lineNum":"   20","line":""},
{"lineNum":"   21","line":"/// The VFS [virtual file system] trait is the interface we require"},
{"lineNum":"   22","line":"/// for the injection into the directectory walker."},
{"lineNum":"   23","line":"pub trait VFS: Clone + Debug {"},
{"lineNum":"   24","line":"    type FileIter: File;"},
{"lineNum":"   25","line":"    /// Recursively enumerate all files beneath a given path"},
{"lineNum":"   26","line":"    fn list_dir<P: AsRef<Path>>("},
{"lineNum":"   27","line":"        &self,"},
{"lineNum":"   28","line":"        p: P,"},
{"lineNum":"   29","line":"    ) -> io::Result<Box<Iterator<Item = io::Result<Self::FileIter>>>>;"},
{"lineNum":"   30","line":""},
{"lineNum":"   31","line":"    /// Get the metadata of a file (follows symlinks)"},
{"lineNum":"   32","line":"    fn get_metadata<P: AsRef<Path>>(&self, p: P) -> io::Result<<Self::FileIter as File>::MD>;"},
{"lineNum":"   33","line":""},
{"lineNum":"   34","line":"    /// Get the metadata of a file (doesn\'t follow symlinks)"},
{"lineNum":"   35","line":"    fn get_symlink_metadata<P: AsRef<Path>>("},
{"lineNum":"   36","line":"        &self,"},
{"lineNum":"   37","line":"        p: P,"},
{"lineNum":"   38","line":"    ) -> io::Result<<Self::FileIter as File>::MD>;"},
{"lineNum":"   39","line":""},
{"lineNum":"   40","line":"    /// Resolve a link path to the path of its target"},
{"lineNum":"   41","line":"    fn read_link<P: AsRef<Path>>(&self, p: P) -> io::Result<PathBuf>;"},
{"lineNum":"   42","line":""},
{"lineNum":"   43","line":"    // must be of type \"File\" (not a dir/link/other)"},
{"lineNum":"   44","line":"    /// Get a File handle from a path"},
{"lineNum":"   45","line":"    fn get_file(&self, p: &Path) -> io::Result<Self::FileIter>;"},
{"lineNum":"   46","line":""},
{"lineNum":"   47","line":"    // must be of type \"File\" (not a dir/link/other)"},
{"lineNum":"   48","line":"    /// Delete a file"},
{"lineNum":"   49","line":"    fn rm_file<P: AsRef<Path>>(&mut self, p: &P) -> io::Result<()>;"},
{"lineNum":"   50","line":""},
{"lineNum":"   51","line":"    // create"},
{"lineNum":"   52","line":"    /// Create a haard link at `src` pointing to what\'s at `dst`"},
{"lineNum":"   53","line":"    fn make_link(&mut self, src: &Path, dst: &Path) -> io::Result<()>;"},
{"lineNum":"   54","line":"}"},
{"lineNum":"   55","line":""},
{"lineNum":"   56","line":"/// Define common interface for a real or mock file"},
{"lineNum":"   57","line":"pub trait File: Debug {"},
{"lineNum":"   58","line":"    type MD: MetaData;"},
{"lineNum":"   59","line":"    fn get_inode(&self) -> io::Result<Inode>;"},
{"lineNum":"   60","line":"    fn get_path(&self) -> PathBuf;"},
{"lineNum":"   61","line":"    fn get_type(&self) -> io::Result<FileType>;"},
{"lineNum":"   62","line":"    fn get_metadata(&self) -> io::Result<Self::MD>;"},
{"lineNum":"   63","line":"    /// Read and hash first K bytes of the file"},
{"lineNum":"   64","line":"    fn get_first_bytes<H: FileHash>(&self) -> io::Result<<H as FileHash>::Output>;"},
{"lineNum":"   65","line":"    /// Hash the contents of the file"},
{"lineNum":"   66","line":"    fn get_hash<H: FileHash>(&self) -> io::Result<<H as FileHash>::Output>;"},
{"lineNum":"   67","line":"}"},
{"lineNum":"   68","line":""},
{"lineNum":"   69","line":"// it is the subset of the interface of fs::MetaData that we use"},
{"lineNum":"   70","line":"/// Define common interface for real of mock metadata object"},
{"lineNum":"   71","line":"pub trait MetaData: Debug {"},
{"lineNum":"   72","line":"    fn get_len(&self) -> u64;"},
{"lineNum":"   73","line":"    fn get_mod_time(&self) -> io::Result<time::SystemTime>;"},
{"lineNum":"   74","line":"    fn get_type(&self) -> FileType;"},
{"lineNum":"   75","line":"    fn get_inode(&self) -> Inode;"},
{"lineNum":"   76","line":"    fn get_device(&self) -> io::Result<DeviceId>;"},
{"lineNum":"   77","line":"}"},
{"lineNum":"   78","line":""},
{"lineNum":"   79","line":""},
{"lineNum":"   80","line":"// helper types"},
{"lineNum":"   81","line":"//RUST NOTE: rust enums can be defined over types such that"},
{"lineNum":"   82","line":"//a variable of the the enum type can be of any of the included types."},
{"lineNum":"   83","line":""},
{"lineNum":"   84","line":"/// `Filetype` is an enum of all types used for filesystem objects."},
{"lineNum":"   85","line":"#[derive(Debug, Clone, Copy, PartialEq)]","class":"lineCov","hits":"4","order":"2869","possible_hits":"4",},
{"lineNum":"   86","line":"pub enum FileType {"},
{"lineNum":"   87","line":"    File,"},
{"lineNum":"   88","line":"    Dir,"},
{"lineNum":"   89","line":"    Symlink,"},
{"lineNum":"   90","line":"    Other,"},
{"lineNum":"   91","line":"}"},
{"lineNum":"   92","line":""},
{"lineNum":"   93","line":"/// Implementation of creation method for the `FileType` enum."},
{"lineNum":"   94","line":"/// maps creation (from) method over the constitute types of `FileType`"},
{"lineNum":"   95","line":"impl From<fs::FileType> for FileType {"},
{"lineNum":"   96","line":"    fn from(ft: fs::FileType) -> FileType {"},
{"lineNum":"   97","line":"        if ft.is_file() {"},
{"lineNum":"   98","line":"            FileType::File"},
{"lineNum":"   99","line":"        } else if ft.is_dir() {"},
{"lineNum":"  100","line":"            FileType::Dir"},
{"lineNum":"  101","line":"        } else if ft.is_symlink() {"},
{"lineNum":"  102","line":"            FileType::Symlink"},
{"lineNum":"  103","line":"        } else {"},
{"lineNum":"  104","line":"            // for other filesystem objets. might be block/char device, fifo,"},
{"lineNum":"  105","line":"            // socket, etc depending on os"},
{"lineNum":"  106","line":"            FileType::Other"},
{"lineNum":"  107","line":"        }"},
{"lineNum":"  108","line":"    }"},
{"lineNum":"  109","line":"}"},
{"lineNum":"  110","line":"//RUST NOTE: the #[derive(...)] automatically adds the traits indicated in derive"},
{"lineNum":"  111","line":"// one should also note that Clone, Copy, Hash, PartialEQ, and EQ are part of the rust"},
{"lineNum":"  112","line":"// std and do pretty much what it they say."},
{"lineNum":"  113","line":"/// Inode is wraper around a \'long\' with several added traits (interface)"},
{"lineNum":"  114","line":"/// which represents the inode of a file"},
{"lineNum":"  115","line":"#[derive(Debug, Clone, Copy, Hash, PartialEq, Eq)]","class":"linePartCov","hits":"9","order":"3348","possible_hits":"11",},
{"lineNum":"  116","line":"pub struct Inode(pub u64);","class":"lineCov","hits":"3","order":"4148","possible_hits":"3",},
{"lineNum":"  117","line":""},
{"lineNum":"  118","line":"/// `DeviceId` is a wraper around a \'long\' with several traits"},
{"lineNum":"  119","line":"/// represents a device id."},
{"lineNum":"  120","line":"#[derive(Debug, Clone, Copy, PartialEq)]","class":"linePartCov","hits":"3","order":"4188","possible_hits":"8",},
{"lineNum":"  121","line":"pub struct DeviceId(pub u64);","class":"linePartCov","hits":"1","order":"4189","possible_hits":"3",},
]};
var percent_low = 25;var percent_high = 75;
var header = { "command" : "smllr-cd1387de2be9f35d", "date" : "2017-12-06 19:01:08", "instrumented" : 5, "covered" : 5,};
var merged_data = [];
